import{j as e,B as d,F as x,C as M}from"./index.esm-be1572f9.js";import{r as n}from"./index-c4905b50.js";import{F as $,a as H}from"./index-f00705cf.js";import{F as P}from"./index-775b57e9.js";import{F as T}from"./FileItemExplorer-a314305f.js";import{V as A}from"./value-1119441d.js";import{L as s}from"./labeling-930b56b2.js";import"./index-6b0ca118.js";import"./index-05ede801.js";import{B as G}from"./Button-9eeba633.js";import{G as O}from"./GetIcon-41e18997.js";import{I as X}from"./list-17e54a61.js";import{f as U}from"./index-ae565a12.js";const Y={display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center",minHeight:"62px",width:"100%",px:"20px",pt:"20px",boxSizing:"border-box","> h4":{fontFamily:"subtitle",fontWeight:"subtitle",fontSize:"subtitle"},"> div":{marginLeft:0}},J=({title:t,shortcutActions:l})=>e.jsxs(d,{sx:{...Y},children:[t&&e.jsx(x,{as:"h4",children:t}),l&&e.jsx("div",{style:{paddingTop:20},children:l})]});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{shortcutActions:{defaultValue:null,description:"",name:"shortcutActions",required:!1,type:{name:"ReactNode"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const K=({items:t,mode:l,index:c,setColumns:p,setActiveFile:a,isFileSelected:h,handleLoadMore:j,selectPathListValue:F,fileListValue:m,validExtensions:u,setIsEmptyFolder:V})=>{const[i,g]=n.useState(0);return e.jsx(d,{sx:{width:"225px",minWidth:"225px",borderRightColor:"grayShade1",borderRightWidth:"3px",borderRightStyle:"solid",backgroundColor:"grayShade3",overflowY:"auto",overflowX:"hidden"},children:t.map(r=>{const b=()=>{if(!u||(u==null?void 0:u.length)===0)return!0;const f=r.attributes.name.split("."),S=f[f.length-1];return u.includes(`.${S}`)};return r?r.attributes.dir?e.jsx(P,{index:c,id:r.attributes.id,handleLoadMore:j,mode:l,name:r.attributes.name,itemInfo:r,selectPathListValue:F,setColumns:p,setActiveFile:a,activeFolder:i,setActiveFolder:g,isActive:!1,selected:!1},r.attributes.id):e.jsx(T,{index:c,mode:l,setColumns:p,isFileSelected:h,setActiveFile:a,setActiveFolder:g,itemInfo:r,isActive:m?m.includes(r.attributes.name):!1,selected:m?m.includes(r.attributes.name):!1,isValidExtension:b(),setIsEmptyFolder:V},r.attributes.id):null})})};try{fileexplorercolumn.displayName="fileexplorercolumn",fileexplorercolumn.__docgenInfo={description:"",displayName:"fileexplorercolumn",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"FileExplorData[]"}},setColumns:{defaultValue:null,description:"",name:"setColumns",required:!1,type:{name:"any"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"oneFile"'},{value:'"nFiles"'},{value:'"oneFolder"'}]}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},setActiveFile:{defaultValue:null,description:"",name:"setActiveFile",required:!1,type:{name:"object"}},handleLoadMore:{defaultValue:null,description:"",name:"handleLoadMore",required:!0,type:{name:"(path: string, columnIndex: number) => void"}},isFileSelected:{defaultValue:null,description:"",name:"isFileSelected",required:!1,type:{name:"any"}},selectPathListValue:{defaultValue:null,description:"",name:"selectPathListValue",required:!1,type:{name:"any"}},fileListValue:{defaultValue:null,description:"",name:"fileListValue",required:!1,type:{name:"any[]"}},validExtensions:{defaultValue:null,description:"",name:"validExtensions",required:!1,type:{name:"string[]"}},setIsEmptyFolder:{defaultValue:null,description:"",name:"setIsEmptyFolder",required:!0,type:{name:"(value: boolean) => void"}}}}}catch{}const Q={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",backgroundColor:"white",minHeight:"62px",width:"100%",minWidth:"230px",p:"20px",boxSizing:"border-box"},Z={display:"flex",flexDirection:"column","div:first-of-type":{justifyContent:"center"}," > div > span":{color:"black",marginLeft:0},">h2":{fontFamily:"subtitle",fontWeight:"subtitle",fontSize:"subtitle"}},z=t=>({display:"flex",flexDirection:"column",maxWidth:t?"80px":"180px",textAlign:t?"right":"left",marginRight:"4px",div:{display:"flex",flexDirection:"column",justifyContent:"flex-end",marginBottom:"8px",fontFamily:t?"microlabel":"value",fontWeight:t?"microlabel":"value",fontSize:t?"microlabel":"value"},"div:nth-last-of-type(3)":{paddingBottom:"7px"},"div:nth-last-of-type(2)":{paddingBottom:"5px"},"div:last-child":{height:"16px",paddingBottom:"2px"},"div:first-of-typed":{height:"auto"}}),ee=t=>t>=1073741824?`${(t/1073741824).toFixed(2)} Gb`:t>=1048576?`${(t/1048576).toFixed(2)} mb`:t>=1024?`${(t/1024).toFixed(2)} kb`:t>1?`${t} bytes`:t===1?`${t} byte`:"0 byte",te=({children:t,activeFile:l,disableDownload:c,handleDownloadFile:p})=>{const a=h=>U(new Date(h),"yyyy-MM-dd - HH:mm:ss");return e.jsxs(d,{sx:{...Q},children:[e.jsxs(d,{sx:{...Z},children:[e.jsx(A,{as:"h2",marginBottom:"32px",textAlign:"center",children:l==null?void 0:l.attributes.name}),e.jsxs(x,{sx:{"> div > div":{height:"30px"}},children:[e.jsxs(d,{sx:{...z(!0)},children:[e.jsx(s,{gray:!0,children:"size"}),e.jsx(s,{gray:!0,children:"creation"}),e.jsx(s,{gray:!0,children:"last update"}),e.jsx(s,{gray:!0,children:"author"})]}),l&&e.jsxs(d,{sx:{...z(!1)},children:[e.jsx(s,{children:ee(l==null?void 0:l.attributes.size)}),e.jsx(s,{children:a(l==null?void 0:l.attributes.accessTime)}),e.jsx(s,{children:a(l==null?void 0:l.attributes.modificationTime)}),e.jsx(s,{children:l==null?void 0:l.attributes.owner})]})]})]}),!c&&e.jsx(G,{intent:"secondary",onClick:()=>{p(l)},children:e.jsxs(x,{alignItems:"center",justifyContent:"center",children:[e.jsx(x,{sx:{mr:"11px",height:"15px",alignItems:"center"},children:e.jsx(O,{size:"sm",icon:X.folder})}),e.jsx(x,{alignItems:"center",children:"Download File"})]})}),t]})};try{info.displayName="info",info.__docgenInfo={description:"",displayName:"info",props:{activeFile:{defaultValue:null,description:"",name:"activeFile",required:!1,type:{name:"ActiveFile | null"}},disableDownload:{defaultValue:null,description:"",name:"disableDownload",required:!0,type:{name:"boolean"}},handleDownloadFile:{defaultValue:null,description:"",name:"handleDownloadFile",required:!0,type:{name:"(file: any) => void"}}}}}catch{}const le={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white",minHeight:"62px",width:"100%",minWidth:"230px",p:"20px",boxSizing:"border-box",">h2":{fontFamily:"subtitle",fontWeight:"subtitle",fontSize:"subtitle",color:"gray"}},re=()=>e.jsx(d,{sx:le,children:e.jsx(A,{as:"h2",textAlign:"center",children:"Empty folder"})}),ne={display:"flex",flexDirection:"column",height:"100%",maxHeight:"calc(100vh - 110px)",borderWidth:"1px",borderBottomWidth:"0px",borderStyle:"solid",boxSizing:"border-box"},v=({title:t="Select a file",onClose:l=()=>console.log("Close"),shortcutActions:c,handleDownloadFile:p,mode:a=H.oneFile,rootDir:h="/",contentProps:j,handleLoadMore:F=()=>console.log("load more in quartz"),handleSelectFile:m=()=>console.log("handleSelectFile in quartz"),disableDownload:u=!1,validExtensions:V,data:i,...g})=>{const r=n.useRef(),[b,f]=n.useState(i),[S,_]=n.useState(!1);n.useEffect(()=>{if(Array.isArray(i)){const o=i[i.length-1];Array.isArray(o)&&o.length===0?(_(!0),f(i.slice(0,-1))):(_(!1),f(i))}},[i]);const[q,L]=n.useState(),[C,w]=n.useState([]),[W,D]=n.useState(""),I=n.useRef(),N=()=>{I&&I.current.scrollIntoView()},R=(o,y)=>{w(y?E=>[...E,o]:E=>[...E.filter(k=>k!==o.attributes.name)])},B=(o,y)=>{y||D(o),D(o)};return n.useEffect(()=>{N()},[b]),e.jsxs(M,{...g,sx:ne,children:[e.jsx(J,{shortcutActions:c,title:t}),e.jsxs(x,{sx:{flex:1,borderStyle:"solid",borderColor:"grayShade3",borderWidth:"1px",overflowX:"auto",backgroundColor:"grayShade3"},ref:r,height:"100%",minWidth:"965px",m:"20px",...j,children:[b.map((o,y)=>e.jsx(K,{items:o,validExtensions:V,handleLoadMore:F,setActiveFile:L,mode:a,setColumns:f,index:y,isFileSelected:R,selectPathListValue:B,fileListValue:C,setIsEmptyFolder:_})),S&&e.jsx(re,{}),q&&e.jsx(te,{activeFile:q,disableDownload:u,handleDownloadFile:p}),e.jsx(d,{ref:I})]}),e.jsx($,{onClose:l,fileListValue:C,value:W,activeFile:q,mode:a,handleSelectFile:m,rootDir:h})]})},ge=n.memo(v);try{v.displayName="FileSystemExplorer",v.__docgenInfo={description:"",displayName:"FileSystemExplorer",props:{title:{defaultValue:{value:"Select a file"},description:"",name:"title",required:!1,type:{name:"string"}},mode:{defaultValue:{value:"FileExplorerMode.oneFile"},description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"oneFile"'},{value:'"nFiles"'},{value:'"oneFolder"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"FileExplorData[][]"}},disableDownload:{defaultValue:{value:"false"},description:"",name:"disableDownload",required:!1,type:{name:"boolean"}},validExtensions:{defaultValue:null,description:"",name:"validExtensions",required:!1,type:{name:"string[]"}},rootDir:{defaultValue:{value:"/"},description:"",name:"rootDir",required:!1,type:{name:"string"}},handleLoadMore:{defaultValue:{value:"() => console.log('load more in quartz')"},description:"",name:"handleLoadMore",required:!1,type:{name:"(path: string, columnIndex: number) => void"}},shortcutActions:{defaultValue:null,description:"",name:"shortcutActions",required:!1,type:{name:"ReactNode"}},contentProps:{defaultValue:null,description:"",name:"contentProps",required:!1,type:{name:'Omit<CardProps, "children" | "css">'}},onClose:{defaultValue:{value:"() => console.log('Close')"},description:"",name:"onClose",required:!1,type:{name:"(key: any) => void"}},handleSelectFile:{defaultValue:{value:"() => console.log('handleSelectFile in quartz')"},description:"",name:"handleSelectFile",required:!1,type:{name:"((activeFile: any, isDownload: boolean) => void)"}},handleDownloadFile:{defaultValue:null,description:"",name:"handleDownloadFile",required:!0,type:{name:"(file: any) => void"}}}}}catch{}export{ge as F};
//# sourceMappingURL=index-e37a0b1c.js.map

import{a,B as u,j as t,c as y,C as M}from"./index.esm-d48b4efe.js";import{r as n}from"./index-8db94870.js";import{F as $,a as H}from"./index-8dafdb50.js";import{F as P}from"./index-3a891a46.js";import{F as T}from"./FileItemExplorer-c4cbe222.js";import{V as L}from"./value-043885de.js";import{L as d}from"./labeling-12ecbbe1.js";import"./index-52de6830.js";import"./index-0330c98f.js";import{B as G}from"./Button-e9eef594.js";import{G as O}from"./GetIcon-9cceefbc.js";import{I as X}from"./list-ae21c2ea.js";import{f as U}from"./index-b4088f44.js";const Y={display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center",minHeight:"62px",width:"100%",px:"20px",pt:"20px",boxSizing:"border-box","> h4":{fontFamily:"subtitle",fontWeight:"subtitle",fontSize:"subtitle"},"> div":{marginLeft:0}},J=({title:e,shortcutActions:l})=>a(u,{sx:{...Y},children:[e&&t(y,{as:"h4",children:e}),l&&t("div",{style:{paddingTop:20},children:l})]});try{header.displayName="header",header.__docgenInfo={description:"",displayName:"header",props:{shortcutActions:{defaultValue:null,description:"",name:"shortcutActions",required:!1,type:{name:"ReactNode"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const K=({items:e,mode:l,index:p,setColumns:m,setActiveFile:s,isFileSelected:x,handleLoadMore:V,selectPathListValue:F,fileListValue:f,validExtensions:c,setIsEmptyFolder:S})=>{const[i,b]=n.useState(0);return t(u,{sx:{width:"225px",minWidth:"225px",borderRightColor:"grayShade1",borderRightWidth:"3px",borderRightStyle:"solid",backgroundColor:"grayShade3",overflowY:"auto",overflowX:"hidden"},children:e.map(r=>{const _=()=>{if(!c||(c==null?void 0:c.length)===0)return!0;const h=r.attributes.name.split("."),q=h[h.length-1];return c.includes(`.${q}`)};return r?r.attributes.dir?t(P,{index:p,id:r.attributes.id,handleLoadMore:V,mode:l,name:r.attributes.name,itemInfo:r,selectPathListValue:F,setColumns:m,setActiveFile:s,activeFolder:i,setActiveFolder:b,isActive:!1,selected:!1},r.attributes.id):t(T,{index:p,mode:l,setColumns:m,isFileSelected:x,setActiveFile:s,setActiveFolder:b,itemInfo:r,isActive:f?f.includes(r.attributes.name):!1,selected:f?f.includes(r.attributes.name):!1,isValidExtension:_(),setIsEmptyFolder:S},r.attributes.id):null})})};try{fileexplorercolumn.displayName="fileexplorercolumn",fileexplorercolumn.__docgenInfo={description:"",displayName:"fileexplorercolumn",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"FileExplorData[]"}},setColumns:{defaultValue:null,description:"",name:"setColumns",required:!1,type:{name:"any"}},mode:{defaultValue:null,description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"oneFile"'},{value:'"nFiles"'},{value:'"oneFolder"'}]}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},setActiveFile:{defaultValue:null,description:"",name:"setActiveFile",required:!1,type:{name:"object"}},handleLoadMore:{defaultValue:null,description:"",name:"handleLoadMore",required:!0,type:{name:"(path: string, columnIndex: number) => void"}},isFileSelected:{defaultValue:null,description:"",name:"isFileSelected",required:!1,type:{name:"any"}},selectPathListValue:{defaultValue:null,description:"",name:"selectPathListValue",required:!1,type:{name:"any"}},fileListValue:{defaultValue:null,description:"",name:"fileListValue",required:!1,type:{name:"any[]"}},validExtensions:{defaultValue:null,description:"",name:"validExtensions",required:!1,type:{name:"string[]"}},setIsEmptyFolder:{defaultValue:null,description:"",name:"setIsEmptyFolder",required:!0,type:{name:"(value: boolean) => void"}}}}}catch{}const Q={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",backgroundColor:"white",minHeight:"62px",width:"100%",minWidth:"230px",p:"20px",boxSizing:"border-box"},Z={display:"flex",flexDirection:"column","div:first-of-type":{justifyContent:"center"}," > div > span":{color:"black",marginLeft:0},">h2":{fontFamily:"subtitle",fontWeight:"subtitle",fontSize:"subtitle"}},A=e=>({display:"flex",flexDirection:"column",maxWidth:e?"80px":"180px",textAlign:e?"right":"left",marginRight:"4px",div:{display:"flex",flexDirection:"column",justifyContent:"flex-end",marginBottom:"8px",fontFamily:e?"microlabel":"value",fontWeight:e?"microlabel":"value",fontSize:e?"microlabel":"value"},"div:nth-last-of-type(3)":{paddingBottom:"7px"},"div:nth-last-of-type(2)":{paddingBottom:"5px"},"div:last-child":{height:"16px",paddingBottom:"2px"},"div:first-of-typed":{height:"auto"}}),ee=e=>e>=1073741824?`${(e/1073741824).toFixed(2)} Gb`:e>=1048576?`${(e/1048576).toFixed(2)} mb`:e>=1024?`${(e/1024).toFixed(2)} kb`:e>1?`${e} bytes`:e===1?`${e} byte`:"0 byte",te=({children:e,activeFile:l,disableDownload:p,handleDownloadFile:m})=>{const s=x=>U(new Date(x),"yyyy-MM-dd - HH:mm:ss");return a(u,{sx:{...Q},children:[a(u,{sx:{...Z},children:[t(L,{as:"h2",marginBottom:"32px",textAlign:"center",children:l==null?void 0:l.attributes.name}),a(y,{sx:{"> div > div":{height:"30px"}},children:[a(u,{sx:{...A(!0)},children:[t(d,{gray:!0,children:"size"}),t(d,{gray:!0,children:"creation"}),t(d,{gray:!0,children:"last update"}),t(d,{gray:!0,children:"author"})]}),l&&a(u,{sx:{...A(!1)},children:[t(d,{children:ee(l==null?void 0:l.attributes.size)}),t(d,{children:s(l==null?void 0:l.attributes.accessTime)}),t(d,{children:s(l==null?void 0:l.attributes.modificationTime)}),t(d,{children:l==null?void 0:l.attributes.owner})]})]})]}),!p&&t(G,{intent:"secondary",onClick:()=>{m(l)},children:a(y,{alignItems:"center",justifyContent:"center",children:[t(y,{sx:{mr:"11px",height:"15px",alignItems:"center"},children:t(O,{size:"sm",icon:X.folder})}),t(y,{alignItems:"center",children:"Download File"})]})}),e]})};try{info.displayName="info",info.__docgenInfo={description:"",displayName:"info",props:{activeFile:{defaultValue:null,description:"",name:"activeFile",required:!1,type:{name:"ActiveFile | null"}},disableDownload:{defaultValue:null,description:"",name:"disableDownload",required:!0,type:{name:"boolean"}},handleDownloadFile:{defaultValue:null,description:"",name:"handleDownloadFile",required:!0,type:{name:"(file: any) => void"}}}}}catch{}const le={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white",minHeight:"62px",width:"100%",minWidth:"230px",p:"20px",boxSizing:"border-box",">h2":{fontFamily:"subtitle",fontWeight:"subtitle",fontSize:"subtitle",color:"gray"}},re=()=>t(u,{sx:le,children:t(L,{as:"h2",textAlign:"center",children:"Empty folder"})});try{emptyfolderinfo.displayName="emptyfolderinfo",emptyfolderinfo.__docgenInfo={description:"",displayName:"emptyfolderinfo",props:{}}}catch{}const ne={display:"flex",flexDirection:"column",height:"100%",maxHeight:"calc(100vh - 110px)",borderWidth:"1px",borderBottomWidth:"0px",borderStyle:"solid",boxSizing:"border-box"},oe=({title:e="Select a file",onClose:l=()=>console.log("Close"),shortcutActions:p,handleDownloadFile:m,mode:s=H.oneFile,rootDir:x="/",contentProps:V,handleLoadMore:F=()=>console.log("load more in quartz"),handleSelectFile:f=()=>console.log("handleSelectFile in quartz"),disableDownload:c=!1,validExtensions:S,data:i,...b})=>{const r=n.useRef(),[_,h]=n.useState(i),[q,I]=n.useState(!1);n.useEffect(()=>{if(Array.isArray(i)){const o=i[i.length-1];Array.isArray(o)&&o.length===0?(I(!0),h(i.slice(0,-1))):(I(!1),h(i))}},[i]);const[v,N]=n.useState(),[E,D]=n.useState([]),[W,z]=n.useState(""),C=n.useRef(),j=()=>{C&&C.current.scrollIntoView()},B=(o,g)=>{D(g?w=>[...w,o]:w=>[...w.filter(k=>k!==o.attributes.name)])},R=(o,g)=>{g||z(o),z(o)};return n.useEffect(()=>{j()},[_]),a(M,{...b,sx:ne,children:[t(J,{shortcutActions:p,title:e}),a(y,{sx:{flex:1,borderStyle:"solid",borderColor:"grayShade3",borderWidth:"1px",overflowX:"auto",backgroundColor:"grayShade3"},ref:r,height:"100%",minWidth:"965px",m:"20px",...V,children:[_.map((o,g)=>t(K,{items:o,validExtensions:S,handleLoadMore:F,setActiveFile:N,mode:s,setColumns:h,index:g,isFileSelected:B,selectPathListValue:R,fileListValue:E,setIsEmptyFolder:I})),q&&t(re,{}),v&&t(te,{activeFile:v,disableDownload:c,handleDownloadFile:m}),t(u,{ref:C})]}),t($,{onClose:l,fileListValue:E,value:W,activeFile:v,mode:s,handleSelectFile:f,rootDir:x})]})},be=n.memo(oe);try{filesystemexplorer.displayName="filesystemexplorer",filesystemexplorer.__docgenInfo={description:"",displayName:"filesystemexplorer",props:{title:{defaultValue:{value:"Select a file"},description:"",name:"title",required:!1,type:{name:"string"}},mode:{defaultValue:{value:"FileExplorerMode.oneFile"},description:"",name:"mode",required:!1,type:{name:"enum",value:[{value:'"oneFile"'},{value:'"nFiles"'},{value:'"oneFolder"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"FileExplorData[][]"}},disableDownload:{defaultValue:{value:"false"},description:"",name:"disableDownload",required:!1,type:{name:"boolean"}},validExtensions:{defaultValue:null,description:"",name:"validExtensions",required:!1,type:{name:"string[]"}},rootDir:{defaultValue:{value:"/"},description:"",name:"rootDir",required:!1,type:{name:"string"}},handleLoadMore:{defaultValue:{value:"() => console.log('load more in quartz')"},description:"",name:"handleLoadMore",required:!1,type:{name:"(path: string, columnIndex: number) => void"}},shortcutActions:{defaultValue:null,description:"",name:"shortcutActions",required:!1,type:{name:"ReactNode"}},contentProps:{defaultValue:null,description:"",name:"contentProps",required:!1,type:{name:'Omit<CardProps, "css" | "children">'}},onClose:{defaultValue:{value:"() => console.log('Close')"},description:"",name:"onClose",required:!1,type:{name:"(key: any) => void"}},handleSelectFile:{defaultValue:{value:"() => console.log('handleSelectFile in quartz')"},description:"",name:"handleSelectFile",required:!1,type:{name:"((activeFile: any, isDownload: boolean) => void)"}},handleDownloadFile:{defaultValue:null,description:"",name:"handleDownloadFile",required:!0,type:{name:"(file: any) => void"}}}}}catch{}export{be as F};
//# sourceMappingURL=index-1e8785f9.js.map

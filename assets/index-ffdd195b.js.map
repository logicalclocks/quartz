{"version":3,"file":"index-ffdd195b.js","sources":["../../src/components/code-input/index.tsx"],"sourcesContent":["import { forwardRef } from 'react';\nimport { Box, Flex } from 'rebass';\n\nimport { loadLanguage } from '@uiw/codemirror-extensions-langs';\nimport { darcula } from '@uiw/codemirror-theme-darcula';\nimport CodeMirror, { ReactCodeMirrorProps } from '@uiw/react-codemirror';\n\n// Components\nimport { BoxProps } from '../box';\nimport { GetIcon, IconName } from '../icon';\nimport InputInfo from '../input-info';\nimport { Intents } from '../intents';\nimport Label, { LabelProps } from '../label';\nimport Tooltip from '../tooltip';\nimport Labeling from '../typography/labeling';\n\nexport interface CodeInputProps\n  extends Omit<BoxProps, 'children' | 'onChange'> {\n  label?: string;\n  value: string;\n  mode: 'json' | 'javascript' | 'yaml' | 'python' | 'sql';\n  width?: string | number;\n  height?: string;\n  labelAction?: React.ReactNode;\n  optional?: boolean;\n  tooltipInfo?: string;\n  labelProps?: Omit<LabelProps, 'action' | 'text' | 'children'>;\n  onChange: (value: string) => void;\n  readOnly: boolean;\n  info?: string;\n  intent?: Intents;\n  codeMirrorProps?: ReactCodeMirrorProps;\n}\n\nconst CodeInput = forwardRef(\n  ({\n    label = '',\n    value,\n    mode,\n    width = '100%',\n    height = '100%',\n    labelAction,\n    optional,\n    tooltipInfo,\n    labelProps,\n    onChange,\n    readOnly = false,\n    info,\n    intent = 'default',\n    codeMirrorProps,\n    ...props\n  }: CodeInputProps) => {\n    const actions = (labelAction || tooltipInfo || optional) && (\n      <Flex>\n        {labelAction}\n        {optional && (\n          <Labeling ml=\"8px\" bold gray>\n            optional\n          </Labeling>\n        )}\n        {tooltipInfo && (\n          <Tooltip mainText={tooltipInfo}>\n            <GetIcon mt=\"3px\" ml=\"3px\" size=\"xs\" icon={IconName.info_block} />\n          </Tooltip>\n        )}\n      </Flex>\n    );\n\n    return (\n      <Box width={width} tx=\"inputs\" {...props}>\n        <Label\n          action={actions}\n          text={label}\n          width={width}\n          {...labelProps}\n          mb=\"8px\"\n        >\n          <Box\n            sx={{\n              '*': { fontFamily: 'inherit' },\n            }}\n          >\n            <CodeMirror\n              value={value}\n              basicSetup={{\n                autocompletion: false,\n                lineNumbers: true,\n                foldGutter: false,\n              }}\n              extensions={[loadLanguage(mode)!].filter(Boolean)}\n              theme={darcula}\n              onChange={onChange}\n              readOnly={readOnly}\n              height={height}\n              {...codeMirrorProps}\n            />\n          </Box>\n        </Label>\n        {info && <InputInfo intent={intent}>{info}</InputInfo>}\n      </Box>\n    );\n  },\n);\n\nexport default CodeInput;\n"],"names":["CodeInput","forwardRef","label","value","mode","width","height","labelAction","optional","tooltipInfo","labelProps","onChange","readOnly","info","intent","codeMirrorProps","props","actions","jsxs","Flex","jsx","Labeling","Tooltip","GetIcon","IconName","Box","Label","CodeMirror","loadLanguage","darcula","InputInfo"],"mappings":"maAkCA,MAAAA,EAAAC,EAAA,WAAkB,CAAA,CACf,MAAAC,EAAA,GACS,MAAAC,EACR,KAAAC,EACA,MAAAC,EAAA,OACQ,OAAAC,EAAA,OACC,YAAAC,EACT,SAAAC,EACA,YAAAC,EACA,WAAAC,EACA,SAAAC,EACA,SAAAC,EAAA,GACW,KAAAC,EACX,OAAAC,EAAA,UACS,gBAAAC,EACT,GAAAC,CACG,IAAA,CAEH,MAAAC,GAAAV,GAAAE,GAAAD,IAAAU,OAAAC,EAAA,CAAA,SAAA,CAEKZ,EAAAC,GAAAY,EAAA,IAAAC,EAAA,CAAA,GAAA,MAAA,KAAA,GAAA,KAAA,GAAA,SAAA,UAAA,CAAA,EAICZ,GAAAW,EAAAA,IAAAE,EAAA,CAAA,SAAAb,EAAA,SAAAW,MAAAG,EAAA,CAAA,GAAA,MAAA,GAAA,MAAA,KAAA,KAAA,KAAAC,EAAA,UAAA,CAAA,EAAA,CAKA,CAAA,CAAA,EAKN,OAAAN,EAAA,KAAAO,EAAA,CAAA,MAAApB,EAAA,GAAA,SAAA,GAAAW,EAAA,SAAA,CAEII,EAAA,IAAAM,EAAC,CAAA,OAAAT,EACS,KAAAf,EACF,MAAAG,EACN,GAAAK,EACI,GAAA,MACD,SAAAU,EAAA,IAEHK,EAAC,CAAA,GAAA,CACK,IAAA,CAAA,WAAA,SAAA,CAC2B,EAC/B,SAAAL,EAAA,IAEAO,EAAC,CAAA,MAAAxB,EACC,WAAA,CACY,eAAA,GACM,YAAA,GACH,WAAA,EACD,EACd,WAAA,CAAAyB,EAAAxB,CAAA,CAAA,EAAA,OAAA,OAAA,EACgD,MAAAyB,EACzC,SAAAlB,EACP,SAAAC,EACA,OAAAN,EACA,GAAAS,CACI,CAAA,CACN,CAAA,CACF,CAAA,EACFF,GAAAO,EAAA,IAAAU,EAAA,CAAA,OAAAhB,EAAA,SAAAD,EAAA,CAC0C,CAAA,CAAA,CAC5C,CAGN;;;;;;;;"}
import{j as E,c as A,a as G}from"./index.esm-d48b4efe.js";import{r as i}from"./index-8db94870.js";import"./theme-67511692.js";function w(){return w=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},w.apply(this,arguments)}var R=function(e,r,t){return e=e<=t?e:t,e=e>=r?e:r,e},I=function(){var e=!1,r=[],t=function a(){e=!0;var o=r.shift();if(o)return o(a);e=!1},u=function(){e=!1,r=[]},c=function(o){r.push(o),!e&&r.length===1&&t()};return{clear:u,enqueue:c}},M=function(){var e,r=function(){e&&window.cancelAnimationFrame(e)},t=function(c,a){var o,l,b=function q(g){if(l=l||g,o=g-l,o>a){c();return}e=window.requestAnimationFrame(q)};e=window.requestAnimationFrame(b)};return{cancel:r,schedule:t}},Q=function(e){var r=0;return e>=0&&e<.2?r=.1:e>=.2&&e<.5?r=.04:e>=.5&&e<.8?r=.02:e>=.8&&e<.99&&(r=.005),R(e+r,0,.994)},N=function(e){i.useEffect(e,[])},z=function(e){return++e%1e6},H=function(){var e=i.useState(0),r=e[1];return i.useCallback(function(){return r(z)},[])},J=function(e){e===void 0&&(e={});var r=H(),t=i.useRef(w({},e)),u=i.useCallback(function(){return t.current},[]),c=i.useCallback(function(a){a&&(Object.assign(t.current,a),r())},[]);return[u,c]},K=function(){var e=i.useRef(!0);return e.current?(e.current=!1,!0):e.current},P=function(e,r){var t=K();i.useEffect(function(){if(!t)return e()},r)},T=function(){},j={isFinished:!0,progress:0,sideEffect:T},L=function(e){var r=e===void 0?{}:e,t=r.animationDuration,u=t===void 0?200:t,c=r.incrementDuration,a=c===void 0?800:c,o=r.isAnimating,l=o===void 0?!1:o,b=r.minimum,q=b===void 0?.08:b,g=J(j),d=g[0],p=g[1],f=i.useRef(null),v=i.useRef(null);N(function(){f.current=I(),v.current=M()});var x=i.useCallback(function(){var s,m;(s=v.current)==null||s.cancel(),(m=f.current)==null||m.clear()},[]),D=i.useCallback(function(s){var m;if(s=R(s,q,1),s===1){var h,F;x(),(h=f.current)==null||h.enqueue(function(_){p({progress:s,sideEffect:function(){var y;return(y=v.current)==null?void 0:y.schedule(_,u)}})}),(F=f.current)==null||F.enqueue(function(){p({isFinished:!0,sideEffect:x})});return}(m=f.current)==null||m.enqueue(function(_){p({isFinished:!1,progress:s,sideEffect:function(){var y;return(y=v.current)==null?void 0:y.schedule(_,u)}})})},[u,x,q,f,p,v]),$=i.useCallback(function(){D(Q(d().progress))},[d,D]),k=i.useCallback(function(){var s=function m(){var h;$(),(h=f.current)==null||h.enqueue(function(F){var _;(_=v.current)==null||_.schedule(function(){m(),F()},a)})};s()},[a,f,v,$]),U=i.useRef(T),V=d().sideEffect;return i.useEffect(function(){U.current=$}),N(function(){return l&&k(),x}),P(function(){d().sideEffect()},[d,V]),P(function(){l?p(w({},j,{sideEffect:k})):D(1)},[l,D,p,k]),{animationDuration:u,isFinished:d().isFinished,progress:d().progress}};const S=({animationDuration:n,progress:e,variant:r})=>E(A,{variant:r,sx:{position:"relative",width:`${e*100}%`,transition:`width ${n}ms linear`,height:"8px"},children:E(A,{variant:r,sx:{position:"absolute",width:"100%",height:"2px",top:"3px"}})});try{S.displayName="Bar",S.__docgenInfo={description:"",displayName:"Bar",props:{animationDuration:{defaultValue:null,description:"",name:"animationDuration",required:!0,type:{name:"number"}},progress:{defaultValue:null,description:"",name:"progress",required:!0,type:{name:"number"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"string"}}}}}catch{}const C=({children:n})=>E(A,{sx:{position:"relative",height:"8px",width:"100%"},children:n});try{C.displayName="Container",C.__docgenInfo={description:"",displayName:"Container",props:{}}}catch{}const O=({variant:n="perf.green",animationDuration:e=200,incrementDuration:r=800,isAnimating:t=!1,minimum:u=.08})=>{const{animationDuration:c,progress:a}=L({animationDuration:e,incrementDuration:r,isAnimating:t,minimum:u});return G(C,{children:[E(S,{variant:n,animationDuration:c,progress:a}),E(S,{variant:"perf.gray",animationDuration:c,progress:1-a})]})};try{O.displayName="AnimatedProgress",O.__docgenInfo={description:"",displayName:"AnimatedProgress",props:{variant:{defaultValue:{value:"perf.green"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"perf.black"'},{value:'"perf.green"'},{value:'"perf.orange"'}]}}}}}catch{}export{O as A};
//# sourceMappingURL=AnimatedProgress-54fc0391.js.map

function J(t){return t.split("-")[1]}function ut(t){return t==="y"?"height":"width"}function W(t){return t.split("-")[0]}function Y(t){return["top","bottom"].includes(W(t))?"x":"y"}function gt(t,e,n){let{reference:o,floating:r}=t;const i=o.x+o.width/2-r.width/2,c=o.y+o.height/2-r.height/2,s=Y(e),l=ut(s),u=o[l]/2-r[l]/2,h=s==="x";let f;switch(W(e)){case"top":f={x:i,y:o.y-r.height};break;case"bottom":f={x:i,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:c};break;case"left":f={x:o.x-r.width,y:c};break;default:f={x:o.x,y:o.y}}switch(J(e)){case"start":f[s]-=u*(n&&h?-1:1);break;case"end":f[s]+=u*(n&&h?-1:1)}return f}const Ht=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:c}=n,s=i.filter(Boolean),l=await(c.isRTL==null?void 0:c.isRTL(e));let u=await c.getElementRects({reference:t,floating:e,strategy:r}),{x:h,y:f}=gt(u,o,l),d=o,m={},a=0;for(let g=0;g<s.length;g++){const{name:p,fn:y}=s[g],{x:w,y:x,data:b,reset:v}=await y({x:h,y:f,initialPlacement:o,placement:d,strategy:r,middlewareData:m,rects:u,platform:c,elements:{reference:t,floating:e}});h=w??h,f=x??f,m={...m,[p]:{...m[p],...b}},v&&a<=50&&(a++,typeof v=="object"&&(v.placement&&(d=v.placement),v.rects&&(u=v.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:r}):v.rects),{x:h,y:f}=gt(u,d,l)),g=-1)}return{x:h,y:f,placement:d,strategy:r,middlewareData:m}};function V(t,e){return typeof t=="function"?t(e):t}function At(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function tt(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function K(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:c,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:d=!1,padding:m=0}=V(e,t),a=At(m),g=s[d?f==="floating"?"reference":"floating":f],p=tt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:u,rootBoundary:h,strategy:l})),y=f==="floating"?{...c.floating,x:o,y:r}:c.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),x=await(i.isElement==null?void 0:i.isElement(w))&&await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1},b=tt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:l}):y);return{top:(p.top-b.top+a.top)/x.y,bottom:(b.bottom-p.bottom+a.bottom)/x.y,left:(p.left-b.left+a.left)/x.x,right:(b.right-p.right+a.right)/x.x}}const Q=Math.min,q=Math.max;function st(t,e,n){return q(t,Q(e,n))}const qt=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:i,platform:c,elements:s}=e,{element:l,padding:u=0}=V(t,e)||{};if(l==null)return{};const h=At(u),f={x:n,y:o},d=Y(r),m=ut(d),a=await c.getDimensions(l),g=d==="y",p=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",x=i.reference[m]+i.reference[d]-f[d]-i.floating[m],b=f[d]-i.reference[d],v=await(c.getOffsetParent==null?void 0:c.getOffsetParent(l));let R=v?v[w]:0;R&&await(c.isElement==null?void 0:c.isElement(v))||(R=s.floating[w]||i.floating[m]);const O=x/2-b/2,S=R/2-a[m]/2-1,P=Q(h[p],S),z=Q(h[y],S),A=P,T=R-a[m]-z,L=R/2-a[m]/2+O,E=st(A,L,T),$=J(r)!=null&&L!=E&&i.reference[m]/2-(L<A?P:z)-a[m]/2<0?L<A?A-L:T-L:0;return{[d]:f[d]-$,data:{[d]:E,centerOffset:L-E+$}}}}),Lt=["top","right","bottom","left"];Lt.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const Wt={left:"right",right:"left",bottom:"top",top:"bottom"};function et(t){return t.replace(/left|right|bottom|top/g,e=>Wt[e])}function Bt(t,e,n){n===void 0&&(n=!1);const o=J(t),r=Y(t),i=ut(r);let c=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(c=et(c)),{main:c,cross:et(c)}}const Mt={start:"end",end:"start"};function ct(t){return t.replace(/start|end/g,e=>Mt[e])}const Xt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:o,middlewareData:r,rects:i,initialPlacement:c,platform:s,elements:l}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:a=!0,...g}=V(t,e),p=W(o),y=W(c)===c,w=await(s.isRTL==null?void 0:s.isRTL(l.floating)),x=f||(y||!a?[et(c)]:function(A){const T=et(A);return[ct(A),T,ct(T)]}(c));f||m==="none"||x.push(...function(A,T,L,E){const $=J(A);let D=function(H,lt,Pt){const ht=["left","right"],pt=["right","left"],Ft=["top","bottom"],kt=["bottom","top"];switch(H){case"top":case"bottom":return Pt?lt?pt:ht:lt?ht:pt;case"left":case"right":return lt?Ft:kt;default:return[]}}(W(A),L==="start",E);return $&&(D=D.map(H=>H+"-"+$),T&&(D=D.concat(D.map(ct)))),D}(c,a,m,w));const b=[c,...x],v=await K(e,g),R=[];let O=((n=r.flip)==null?void 0:n.overflows)||[];if(u&&R.push(v[p]),h){const{main:A,cross:T}=Bt(o,i,w);R.push(v[A],v[T])}if(O=[...O,{placement:o,overflows:R}],!R.every(A=>A<=0)){var S,P;const A=(((S=r.flip)==null?void 0:S.index)||0)+1,T=b[A];if(T)return{data:{index:A,overflows:O},reset:{placement:T}};let L=(P=O.filter(E=>E.overflows[0]<=0).sort((E,$)=>E.overflows[1]-$.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(d){case"bestFit":{var z;const E=(z=O.map($=>[$.placement,$.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort(($,D)=>$[1]-D[1])[0])==null?void 0:z[0];E&&(L=E);break}case"initialPlacement":L=c}if(o!==L)return{reset:{placement:L}}}return{}}}};function yt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function xt(t){return Lt.some(e=>t[e]>=0)}const Yt=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=V(t,e);switch(o){case"referenceHidden":{const i=yt(await K(e,{...r,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:xt(i)}}}case"escaped":{const i=yt(await K(e,{...r,altBoundary:!0}),n.floating);return{data:{escapedOffsets:i,escaped:xt(i)}}}default:return{}}}}},_t=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:o}=e,r=await async function(i,c){const{placement:s,platform:l,elements:u}=i,h=await(l.isRTL==null?void 0:l.isRTL(u.floating)),f=W(s),d=J(s),m=Y(s)==="x",a=["left","top"].includes(f)?-1:1,g=h&&m?-1:1,p=V(c,i);let{mainAxis:y,crossAxis:w,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return d&&typeof x=="number"&&(w=d==="end"?-1*x:x),m?{x:w*g,y:y*a}:{x:y*a,y:w*g}}(e,t);return{x:n+r.x,y:o+r.y,data:r}}}};function Tt(t){return t==="x"?"y":"x"}const jt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:i=!0,crossAxis:c=!1,limiter:s={fn:p=>{let{x:y,y:w}=p;return{x:y,y:w}}},...l}=V(t,e),u={x:n,y:o},h=await K(e,l),f=Y(W(r)),d=Tt(f);let m=u[f],a=u[d];if(i){const p=f==="y"?"bottom":"right";m=st(m+h[f==="y"?"top":"left"],m,m-h[p])}if(c){const p=d==="y"?"bottom":"right";a=st(a+h[d==="y"?"top":"left"],a,a-h[p])}const g=s.fn({...e,[f]:m,[d]:a});return{...g,data:{x:g.x-n,y:g.y-o}}}}},Gt=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:i,middlewareData:c}=e,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=V(t,e),h={x:n,y:o},f=Y(r),d=Tt(f);let m=h[f],a=h[d];const g=V(s,e),p=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",b=i.reference[f]-i.floating[x]+p.mainAxis,v=i.reference[f]+i.reference[x]-p.mainAxis;m<b?m=b:m>v&&(m=v)}if(u){var y,w;const x=f==="y"?"width":"height",b=["top","left"].includes(W(r)),v=i.reference[d]-i.floating[x]+(b&&((y=c.offset)==null?void 0:y[d])||0)+(b?0:p.crossAxis),R=i.reference[d]+i.reference[x]+(b?0:((w=c.offset)==null?void 0:w[d])||0)-(b?p.crossAxis:0);a<v?a=v:a>R&&(a=R)}return{[f]:m,[d]:a}}}},Jt=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:r,elements:i}=e,{apply:c=()=>{},...s}=V(t,e),l=await K(e,s),u=W(n),h=J(n),f=Y(n)==="x",{width:d,height:m}=o.floating;let a,g;u==="top"||u==="bottom"?(a=u,g=h===(await(r.isRTL==null?void 0:r.isRTL(i.floating))?"start":"end")?"left":"right"):(g=u,a=h==="end"?"top":"bottom");const p=m-l[a],y=d-l[g],w=!e.middlewareData.shift;let x=p,b=y;if(f){const R=d-l.left-l.right;b=h||w?Q(y,R):R}else{const R=m-l.top-l.bottom;x=h||w?Q(p,R):R}if(w&&!h){const R=q(l.left,0),O=q(l.right,0),S=q(l.top,0),P=q(l.bottom,0);f?b=d-2*(R!==0||O!==0?R+O:q(l.left,l.right)):x=m-2*(S!==0||P!==0?S+P:q(l.top,l.bottom))}await c({...e,availableWidth:b,availableHeight:x});const v=await r.getDimensions(i.floating);return d!==v.width||m!==v.height?{reset:{rects:!0}}:{}}}};function C(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function k(t){return C(t).getComputedStyle(t)}function Et(t){return t instanceof C(t).Node}function N(t){return Et(t)?(t.nodeName||"").toLowerCase():"#document"}function F(t){return t instanceof C(t).HTMLElement}function wt(t){return typeof ShadowRoot<"u"&&(t instanceof C(t).ShadowRoot||t instanceof ShadowRoot)}function U(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=k(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(r)}function Vt(t){return["table","td","th"].includes(N(t))}function at(t){const e=dt(),n=k(t);return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!e&&!!n.backdropFilter&&n.backdropFilter!=="none"||!e&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function dt(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function it(t){return["html","body","#document"].includes(N(t))}const ft=Math.min,_=Math.max,nt=Math.round,Z=Math.floor,I=t=>({x:t,y:t});function $t(t){const e=k(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=F(t),i=r?t.offsetWidth:n,c=r?t.offsetHeight:o,s=nt(n)!==i||nt(o)!==c;return s&&(n=i,o=c),{width:n,height:o,$:s}}function B(t){return t instanceof C(t).Element}function mt(t){return B(t)?t:t.contextElement}function j(t){const e=mt(t);if(!F(e))return I(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=$t(e);let c=(i?nt(n.width):n.width)/o,s=(i?nt(n.height):n.height)/r;return c&&Number.isFinite(c)||(c=1),s&&Number.isFinite(s)||(s=1),{x:c,y:s}}const zt=I(0);function Dt(t){const e=C(t);return dt()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:zt}function X(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=mt(t);let c=I(1);e&&(o?B(o)&&(c=j(o)):c=j(t));const s=function(d,m,a){return m===void 0&&(m=!1),!(!a||m&&a!==C(d))&&m}(i,n,o)?Dt(i):I(0);let l=(r.left+s.x)/c.x,u=(r.top+s.y)/c.y,h=r.width/c.x,f=r.height/c.y;if(i){const d=C(i),m=o&&B(o)?C(o):o;let a=d.frameElement;for(;a&&o&&m!==d;){const g=j(a),p=a.getBoundingClientRect(),y=getComputedStyle(a),w=p.left+(a.clientLeft+parseFloat(y.paddingLeft))*g.x,x=p.top+(a.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,h*=g.x,f*=g.y,l+=w,u+=x,a=C(a).frameElement}}return tt({width:h,height:f,x:l,y:u})}function rt(t){return B(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function M(t){return((Et(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ot(t){return X(M(t)).left+rt(t).scrollLeft}function G(t){if(N(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wt(t)&&t.host||M(t);return wt(e)?e.host:e}function St(t){const e=G(t);return it(e)?t.ownerDocument?t.ownerDocument.body:t.body:F(e)&&U(e)?e:St(e)}function ot(t,e){var n;e===void 0&&(e=[]);const o=St(t),r=o===((n=t.ownerDocument)==null?void 0:n.body),i=C(o);return r?e.concat(i,i.visualViewport||[],U(o)?o:[]):e.concat(o,ot(o))}function vt(t,e,n){let o;if(e==="viewport")o=function(r,i){const c=C(r),s=M(r),l=c.visualViewport;let u=s.clientWidth,h=s.clientHeight,f=0,d=0;if(l){u=l.width,h=l.height;const m=dt();(!m||m&&i==="fixed")&&(f=l.offsetLeft,d=l.offsetTop)}return{width:u,height:h,x:f,y:d}}(t,n);else if(e==="document")o=function(r){const i=M(r),c=rt(r),s=r.ownerDocument.body,l=_(i.scrollWidth,i.clientWidth,s.scrollWidth,s.clientWidth),u=_(i.scrollHeight,i.clientHeight,s.scrollHeight,s.clientHeight);let h=-c.scrollLeft+Ot(r);const f=-c.scrollTop;return k(s).direction==="rtl"&&(h+=_(i.clientWidth,s.clientWidth)-l),{width:l,height:u,x:h,y:f}}(M(t));else if(B(e))o=function(r,i){const c=X(r,!0,i==="fixed"),s=c.top+r.clientTop,l=c.left+r.clientLeft,u=F(r)?j(r):I(1);return{width:r.clientWidth*u.x,height:r.clientHeight*u.y,x:l*u.x,y:s*u.y}}(e,n);else{const r=Dt(t);o={...e,x:e.x-r.x,y:e.y-r.y}}return tt(o)}function Ct(t,e){const n=G(t);return!(n===e||!B(n)||it(n))&&(k(n).position==="fixed"||Ct(n,e))}function Nt(t,e,n){const o=F(e),r=M(e),i=n==="fixed",c=X(t,!0,i,e);let s={scrollLeft:0,scrollTop:0};const l=I(0);if(o||!o&&!i)if((N(e)!=="body"||U(r))&&(s=rt(e)),F(e)){const u=X(e,!0,i,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else r&&(l.x=Ot(r));return{x:c.left+s.scrollLeft-l.x,y:c.top+s.scrollTop-l.y,width:c.width,height:c.height}}function bt(t,e){return F(t)&&k(t).position!=="fixed"?e?e(t):t.offsetParent:null}function Rt(t,e){const n=C(t);if(!F(t))return n;let o=bt(t,e);for(;o&&Vt(o)&&k(o).position==="static";)o=bt(o,e);return o&&(N(o)==="html"||N(o)==="body"&&k(o).position==="static"&&!at(o))?n:o||function(r){let i=G(r);for(;F(i)&&!it(i);){if(at(i))return i;i=G(i)}return null}(t)||n}const It={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const r=F(n),i=M(n);if(n===i)return e;let c={scrollLeft:0,scrollTop:0},s=I(1);const l=I(0);if((r||!r&&o!=="fixed")&&((N(n)!=="body"||U(i))&&(c=rt(n)),F(n))){const u=X(n);s=j(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-c.scrollLeft*s.x+l.x,y:e.y*s.y-c.scrollTop*s.y+l.y}},getDocumentElement:M,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const i=[...n==="clippingAncestors"?function(l,u){const h=u.get(l);if(h)return h;let f=ot(l).filter(g=>B(g)&&N(g)!=="body"),d=null;const m=k(l).position==="fixed";let a=m?G(l):l;for(;B(a)&&!it(a);){const g=k(a),p=at(a);p||g.position!=="fixed"||(d=null),(m?!p&&!d:!p&&g.position==="static"&&d&&["absolute","fixed"].includes(d.position)||U(a)&&!p&&Ct(l,a))?f=f.filter(y=>y!==a):d=g,a=G(a)}return u.set(l,f),f}(e,this._c):[].concat(n),o],c=i[0],s=i.reduce((l,u)=>{const h=vt(e,u,r);return l.top=_(h.top,l.top),l.right=ft(h.right,l.right),l.bottom=ft(h.bottom,l.bottom),l.left=_(h.left,l.left),l},vt(e,c,r));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Rt,getElementRects:async function(t){let{reference:e,floating:n,strategy:o}=t;const r=this.getOffsetParent||Rt,i=this.getDimensions;return{reference:Nt(e,await r(n),o),floating:{x:0,y:0,...await i(n)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return $t(t)},getScale:j,isElement:B,isRTL:function(t){return getComputedStyle(t).direction==="rtl"}};function Kt(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,u=mt(t),h=r||i?[...u?ot(u):[],...ot(e)]:[];h.forEach(p=>{r&&p.addEventListener("scroll",n,{passive:!0}),i&&p.addEventListener("resize",n)});const f=u&&s?function(p,y){let w,x=null;const b=M(p);function v(){clearTimeout(w),x&&x.disconnect(),x=null}return function R(O,S){O===void 0&&(O=!1),S===void 0&&(S=1),v();const{left:P,top:z,width:A,height:T}=p.getBoundingClientRect();if(O||y(),!A||!T)return;const L={rootMargin:-Z(z)+"px "+-Z(b.clientWidth-(P+A))+"px "+-Z(b.clientHeight-(z+T))+"px "+-Z(P)+"px",threshold:_(0,ft(1,S))||1};let E=!0;function $(D){const H=D[0].intersectionRatio;if(H!==S){if(!E)return R();H?R(!1,H):w=setTimeout(()=>{R(!1,1e-7)},100)}E=!1}try{x=new IntersectionObserver($,{...L,root:b.ownerDocument})}catch{x=new IntersectionObserver($,L)}x.observe(p)}(!0),v}(u,n):null;let d,m=-1,a=null;c&&(a=new ResizeObserver(p=>{let[y]=p;y&&y.target===u&&a&&(a.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{a&&a.observe(e)})),n()}),u&&!l&&a.observe(u),a.observe(e));let g=l?X(t):null;return l&&function p(){const y=X(t);!g||y.x===g.x&&y.y===g.y&&y.width===g.width&&y.height===g.height||n(),g=y,d=requestAnimationFrame(p)}(),n(),()=>{h.forEach(p=>{r&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),f&&f(),a&&a.disconnect(),a=null,l&&cancelAnimationFrame(d)}}const Qt=(t,e,n)=>{const o=new Map,r={platform:It,...n},i={...r.platform,_c:o};return Ht(t,e,{...r,platform:i})};export{Kt as A,Qt as B,Jt as C,Yt as E,_t as L,jt as O,Xt as a,Gt as b,qt as g};
//# sourceMappingURL=floating-ui.dom.browser.min-3b6b30c8.js.map

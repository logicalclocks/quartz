{"version":3,"file":"stories-8517cc48.js","sources":["../../src/components/popup/stories.tsx"],"sourcesContent":["import { Meta, StoryObj } from '@storybook/react';\nimport { userEvent, within, screen, waitFor } from '@storybook/testing-library';\nimport { expect } from '@storybook/jest';\n\nimport { Box, Button, usePopup } from '../..';\nimport Popup from './index';\nimport { reusableArgs } from './storyUitls';\n\nconst meta: Meta<typeof Popup> = {\n  title: 'Popup',\n  argTypes: {\n    size: {\n      options: [\n        'xs',\n        'sm',\n        'md',\n        'lg',\n        'xl',\n        '2xl',\n        '3xl',\n        '4xl',\n        '5xl',\n        '6xl',\n        '7xl',\n        'full',\n      ],\n      control: { type: 'select' },\n    },\n    variant: {\n      options: ['modal', 'drawer'],\n      control: { type: 'radio' },\n      description:\n        'drawer can be used for having fixed popup on the right side',\n    },\n  },\n};\nexport default meta;\n\nexport const PopupStory: StoryObj<typeof Popup> = {\n  args: {\n    title: 'Title',\n    footer: 'some footer',\n    hasCloseButton: false,\n    variant: 'modal',\n    allowPinchZoom: true,\n    ...reusableArgs,\n  },\n  render: (props) => {\n    const [isOpen, handleToggle] = usePopup();\n\n    return (\n      <Box>\n        <Button\n          onClick={handleToggle}\n          sx={{ position: 'fixed', top: '20px', left: '20px' }}\n        >\n          Open Popup\n        </Button>\n        <Popup {...props} isOpen={isOpen} onClose={handleToggle}>\n          <div>this is children</div>\n        </Popup>\n      </Box>\n    );\n  },\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n    userEvent.click(canvas.getByText('Open Popup'));\n    expect(await screen.findByText('this is children')).toBeInTheDocument();\n    expect(await screen.findByText('some footer')).toBeInTheDocument();\n\n    userEvent.keyboard('{Escape}');\n    waitFor(async () => {\n      expect(await screen.queryByText('some footer')).toBeNull();\n    });\n  },\n};\n"],"names":["meta","PopupStory","reusableArgs","props","isOpen","handleToggle","usePopup","Box","jsx","Button","Popup","canvasElement","canvas","within","userEvent","expect","screen","waitFor"],"mappings":"q+GAQA,MAAMA,GAA2B,CAC/B,MAAO,QACP,SAAU,CACR,KAAM,CACJ,QAAS,CACP,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACF,EACA,QAAS,CAAE,KAAM,QAAS,CAC5B,EACA,QAAS,CACP,QAAS,CAAC,QAAS,QAAQ,EAC3B,QAAS,CAAE,KAAM,OAAQ,EACzB,YACE,6DACJ,CACF,CACF,EAGaC,GAAqC,CAChD,KAAM,CACJ,MAAO,QACP,OAAQ,cACR,eAAgB,GAChB,QAAS,QACT,eAAgB,GAChB,GAAGC,CACL,EACA,OAASC,GAAU,CACjB,KAAM,CAACC,EAAQC,CAAY,EAAIC,EAAS,EAExC,cACGC,EACC,CAAA,SAAA,CAAAC,EAAA,IAACC,EAAA,CACC,QAASJ,EACT,GAAI,CAAE,SAAU,QAAS,IAAK,OAAQ,KAAM,MAAO,EACpD,SAAA,YAAA,CAED,EACAG,EAAAA,IAACE,EAAO,CAAA,GAAGP,EAAO,OAAAC,EAAgB,QAASC,EACzC,SAAAG,EAAAA,IAAC,MAAI,CAAA,SAAA,kBAAA,CAAgB,CACvB,CAAA,CACF,CAAA,CAAA,CAEJ,EACA,KAAM,MAAO,CAAE,cAAAG,KAAoB,CAC3B,MAAAC,EAASC,EAAOF,CAAa,EACnCG,EAAU,MAAMF,EAAO,UAAU,YAAY,CAAC,EAC9CG,EAAO,MAAMC,EAAO,WAAW,kBAAkB,CAAC,EAAE,oBACpDD,EAAO,MAAMC,EAAO,WAAW,aAAa,CAAC,EAAE,oBAE/CF,EAAU,SAAS,UAAU,EAC7BG,EAAQ,SAAY,CAClBF,EAAO,MAAMC,EAAO,YAAY,aAAa,CAAC,EAAE,UAAS,CAC1D,CACH,CACF"}
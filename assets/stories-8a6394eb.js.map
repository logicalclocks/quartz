{"version":3,"file":"stories-8a6394eb.js","sources":["../../src/components/select2/stories.tsx"],"sourcesContent":["import { action } from '@storybook/addon-actions';\nimport { useState } from 'react';\nimport { StoryObj, Meta } from '@storybook/react';\n\nimport { Box } from 'rebass';\nimport Select from './index';\nimport { Button, Popup, RadioGroup, Value } from '../../index';\nimport Labeling from '../typography/labeling';\nimport { SelectOpt } from './types';\n\nconst meta: Meta<typeof Select> = {\n  title: 'Select2',\n  component: Select,\n  argTypes: {\n    value: {\n      description: 'Current selection. Matches option.key',\n      control: { type: 'array' },\n    },\n    options: {\n      description: 'Array of strings',\n      control: { type: 'array' },\n    },\n    searchPlaceholder: {\n      description: 'Placeholder for the search bar, if applicable',\n      control: { type: 'text' },\n    },\n    info: {\n      description: 'If present, shows an info icon with the text as tooltip',\n      control: { type: 'text' },\n    },\n    bottomActionText: {\n      description:\n        'text to be placed in the action button at the end of the dropdown, if applicable',\n      control: { type: 'text' },\n    },\n    bottomActionHandler: {\n      description:\n        'callback action for the button at the end of the dropdown, if applicable',\n      control: { type: 'function' },\n    },\n    hasSearch: {\n      description: 'Adds a search bar inside the dropdown',\n      control: { type: 'boolean' },\n    },\n    customFilter: {\n      description: 'Custom filter to be placed inside the dropdown',\n      control: { type: 'React.ReactNode' },\n    },\n    placeholder: {\n      description: 'Text to be displayed when no selection is being made',\n      control: { type: 'text' },\n    },\n    noDataMessage: {\n      description: 'Text to be displayed when there is no options available',\n      control: { type: 'text' },\n    },\n    onChange: {\n      description: 'Change callback function',\n    },\n    label: {\n      description: 'Label of the component',\n      control: { type: 'text' },\n    },\n    isMulti: {\n      description: 'Allow multiple selection',\n      control: { type: 'boolean' },\n    },\n    deletabled: {\n      description: 'Allow current selection to be removed',\n      control: { type: 'boolean' },\n    },\n    message: {\n      control: {\n        type: 'text',\n      },\n      description: 'Message text (validation error)',\n    },\n    state: {\n      control: {\n        type: 'select',\n        options: ['default', 'error'],\n      },\n      description: 'Select state (error border)',\n    },\n    format: {\n      control: {\n        type: 'select',\n        options: ['fit', 'fill'],\n      },\n      description: 'Width behaviour of select and dropdown',\n    },\n    labelMode: {\n      control: {\n        type: 'select',\n        options: ['default', 'inline', 'none'],\n      },\n      description: 'Placement of the label',\n    },\n    disabled: {\n      description: 'Disables the component',\n      control: { type: 'boolean' },\n    },\n    appendToBody: {\n      description:\n        'Appends the dropdown directly to the body. Helps when inside popups',\n      control: { type: 'boolean' },\n    },\n    labelAction: {\n      description: 'React Component to be placed next to the label',\n      control: {},\n    },\n    color: {\n      description: 'color of the select',\n      control: { type: 'select', options: ['primary', 'white'] },\n      defaultValue: { description: 'primary' },\n    },\n  },\n};\nexport default meta;\n\nconst options = [\n  {\n    key: 1,\n    label: 'One',\n    additionalText: 'add_one',\n    additionalComponent: <Value>text</Value>,\n  },\n  {\n    key: 2,\n    label: 'Two',\n    additionalComponent: (\n      <Labeling bold gray>\n        text\n      </Labeling>\n    ),\n  },\n  { key: 3, label: 'Three', additionalText: 'add_three' },\n  {\n    key: 4,\n    label: 'Four',\n    additionalText: 'add_four',\n    additionalComponent: <Value>text</Value>,\n  },\n] as SelectOpt[];\n\nexport const Default: StoryObj<typeof Select> = {\n  args: {\n    value: '',\n    placeholder: 'placeholder',\n    label: 'Label',\n    format: 'fit',\n    color: 'primary',\n    labelMode: 'default',\n    appendToBody: true,\n    isMulti: false,\n    noDataMessage: 'no labels',\n    hasSearch: true,\n    bottomActionText: 'Add another label',\n    bottomActionHandler: () => {\n      action('on bottom action')();\n    },\n    info: 'Here goes some extra info',\n    deletabled: false,\n    labelAction: (\n      <Button p=\"0 0 0 10px\" intent=\"inline\">\n        reference\n      </Button>\n    ),\n  },\n  render: (props) => {\n    const [val, setValue] = useState<(string | number)[]>([]);\n    const [customOptions, setOptions] = useState(options);\n\n    const [selected, setSelected] = useState('all');\n\n    const handleChange = (data: SelectOpt | SelectOpt[]) => {\n      const asArray = Array.isArray(data) ? data : [data];\n      action('onChange')(data);\n      setValue(asArray.map((x: SelectOpt) => x.key));\n    };\n\n    const handleChangeFilter = (data: string) => {\n      setSelected(data);\n\n      if (data === 'all') {\n        setOptions(options);\n      } else {\n        setOptions(options.slice(3, 5));\n      }\n    };\n\n    return (\n      <Popup isOpen onClose={() => {}}>\n        <Box height=\"60px\" m=\"20px\">\n          <Select\n            {...props}\n            value={val}\n            maxListHeight=\"initial\"\n            options={customOptions}\n            onChange={handleChange}\n            customFilter={\n              // eslint-disable-next-line react/jsx-wrap-multilines\n              <RadioGroup\n                ml=\"10px\"\n                value={selected}\n                flexDirection=\"row\"\n                onChange={handleChangeFilter}\n                onClick={(e) => e.stopPropagation()}\n                options={['all', 'matching feature only']}\n              />\n            }\n          />\n        </Box>\n      </Popup>\n    );\n  },\n};\n"],"names":["meta","Select","options","jsx","Value","Labeling","Default","action","Button","props","val","setValue","useState","customOptions","setOptions","selected","setSelected","handleChange","data","asArray","x","handleChangeFilter","Popup","Box","RadioGroup","e"],"mappings":"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"}
{"version":3,"file":"AnimatedProgress-ce0d36e8.js","sources":["../../node_modules/@tanem/react-nprogress/dist/react-nprogress.esm.js","../../src/components/animated-progress/Bar.tsx","../../src/components/animated-progress/Container.tsx","../../src/components/animated-progress/AnimatedProgress.tsx"],"sourcesContent":["import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/extends';\nimport * as React from 'react';\nimport { useEffect, useRef, useCallback, useState } from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\n\nvar clamp = function clamp(num, lower, upper) {\n  num = num <= upper ? num : upper;\n  num = num >= lower ? num : lower;\n  return num;\n};\n\nvar createQueue = function createQueue() {\n  var isRunning = false;\n  var pending = [];\n  var next = function next() {\n    isRunning = true;\n    var cb = pending.shift();\n    if (cb) {\n      return cb(next);\n    }\n    isRunning = false;\n  };\n  var clear = function clear() {\n    isRunning = false;\n    pending = [];\n  };\n  var enqueue = function enqueue(cb) {\n    pending.push(cb);\n    if (!isRunning && pending.length === 1) {\n      next();\n    }\n  };\n  return {\n    clear: clear,\n    enqueue: enqueue\n  };\n};\n\nvar createTimeout = function createTimeout() {\n  var handle;\n  var cancel = function cancel() {\n    if (handle) {\n      window.cancelAnimationFrame(handle);\n    }\n  };\n  var schedule = function schedule(callback, delay) {\n    var deltaTime;\n    var start;\n    var frame = function frame(time) {\n      start = start || time;\n      deltaTime = time - start;\n      if (deltaTime > delay) {\n        callback();\n        return;\n      }\n      handle = window.requestAnimationFrame(frame);\n    };\n    handle = window.requestAnimationFrame(frame);\n  };\n  return {\n    cancel: cancel,\n    schedule: schedule\n  };\n};\n\nvar increment = function increment(progress) {\n  var amount = 0;\n  if (progress >= 0 && progress < 0.2) {\n    amount = 0.1;\n  } else if (progress >= 0.2 && progress < 0.5) {\n    amount = 0.04;\n  } else if (progress >= 0.5 && progress < 0.8) {\n    amount = 0.02;\n  } else if (progress >= 0.8 && progress < 0.99) {\n    amount = 0.005;\n  }\n  return clamp(progress + amount, 0, 0.994);\n};\n\n// Hat-tip:\n// https://github.com/streamich/react-use/blob/master/src/useEffectOnce.ts.\n//\n// `react-use` appears to be unmaintained, so moving the required code into\n// this project for now.\nvar useEffectOnce = function useEffectOnce(effect) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(effect, []);\n};\n\nvar incrementParameter = function incrementParameter(num) {\n  return ++num % 1000000;\n};\nvar useUpdate = function useUpdate() {\n  var _useState = useState(0),\n    setState = _useState[1];\n  return useCallback(function () {\n    return setState(incrementParameter);\n  }, []);\n};\nvar useGetSetState = function useGetSetState( /* istanbul ignore next */\ninitialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n  var update = useUpdate();\n  var state = useRef(_extends({}, initialState));\n  var get = useCallback(function () {\n    return state.current;\n  }, []);\n  var set = useCallback(function (patch) {\n    if (!patch) {\n      return;\n    }\n    Object.assign(state.current, patch);\n    update();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return [get, set];\n};\n\n// Hat-tip:\n// https://github.com/streamich/react-use/blob/master/src/useUpdateEffect.ts.\n//\n// `react-use` appears to be unmaintained, so moving the required code into\n// this project for now.\nvar useFirstMountState = function useFirstMountState() {\n  var isFirst = useRef(true);\n  if (isFirst.current) {\n    isFirst.current = false;\n    return true;\n  }\n  return isFirst.current;\n};\nvar useUpdateEffect = function useUpdateEffect(effect, deps) {\n  var isFirstMount = useFirstMountState();\n  useEffect(function () {\n    if (!isFirstMount) {\n      return effect();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n};\n\n/* istanbul ignore next */\nvar noop = function noop() {\n  return undefined;\n};\nvar initialState = {\n  isFinished: true,\n  progress: 0,\n  sideEffect: noop\n};\nvar useNProgress = function useNProgress(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    _ref$animationDuratio = _ref.animationDuration,\n    animationDuration = _ref$animationDuratio === void 0 ? 200 : _ref$animationDuratio,\n    _ref$incrementDuratio = _ref.incrementDuration,\n    incrementDuration = _ref$incrementDuratio === void 0 ? 800 : _ref$incrementDuratio,\n    _ref$isAnimating = _ref.isAnimating,\n    isAnimating = _ref$isAnimating === void 0 ? false : _ref$isAnimating,\n    _ref$minimum = _ref.minimum,\n    minimum = _ref$minimum === void 0 ? 0.08 : _ref$minimum;\n  var _useGetSetState = useGetSetState(initialState),\n    get = _useGetSetState[0],\n    setState = _useGetSetState[1];\n  var queue = useRef(null);\n  var timeout = useRef(null);\n  useEffectOnce(function () {\n    queue.current = createQueue();\n    timeout.current = createTimeout();\n  });\n  var cleanup = useCallback(function () {\n    var _timeout$current, _queue$current;\n    (_timeout$current = timeout.current) == null ? void 0 : _timeout$current.cancel();\n    (_queue$current = queue.current) == null ? void 0 : _queue$current.clear();\n  }, []);\n  var set = useCallback(function (n) {\n    var _queue$current4;\n    n = clamp(n, minimum, 1);\n    if (n === 1) {\n      var _queue$current2, _queue$current3;\n      cleanup();\n      (_queue$current2 = queue.current) == null ? void 0 : _queue$current2.enqueue(function (next) {\n        setState({\n          progress: n,\n          sideEffect: function sideEffect() {\n            var _timeout$current2;\n            return (_timeout$current2 = timeout.current) == null ? void 0 : _timeout$current2.schedule(next, animationDuration);\n          }\n        });\n      });\n      (_queue$current3 = queue.current) == null ? void 0 : _queue$current3.enqueue(function () {\n        setState({\n          isFinished: true,\n          sideEffect: cleanup\n        });\n      });\n      return;\n    }\n    (_queue$current4 = queue.current) == null ? void 0 : _queue$current4.enqueue(function (next) {\n      setState({\n        isFinished: false,\n        progress: n,\n        sideEffect: function sideEffect() {\n          var _timeout$current3;\n          return (_timeout$current3 = timeout.current) == null ? void 0 : _timeout$current3.schedule(next, animationDuration);\n        }\n      });\n    });\n  }, [animationDuration, cleanup, minimum, queue, setState, timeout]);\n  var trickle = useCallback(function () {\n    set(increment(get().progress));\n  }, [get, set]);\n  var start = useCallback(function () {\n    var work = function work() {\n      var _queue$current5;\n      trickle();\n      (_queue$current5 = queue.current) == null ? void 0 : _queue$current5.enqueue(function (next) {\n        var _timeout$current4;\n        (_timeout$current4 = timeout.current) == null ? void 0 : _timeout$current4.schedule(function () {\n          work();\n          next();\n        }, incrementDuration);\n      });\n    };\n    work();\n  }, [incrementDuration, queue, timeout, trickle]);\n  var savedTrickle = useRef(noop);\n  var sideEffect = get().sideEffect;\n  useEffect(function () {\n    savedTrickle.current = trickle;\n  });\n  useEffectOnce(function () {\n    if (isAnimating) {\n      start();\n    }\n    return cleanup;\n  });\n  useUpdateEffect(function () {\n    get().sideEffect();\n  }, [get, sideEffect]);\n  useUpdateEffect(function () {\n    if (!isAnimating) {\n      set(1);\n    } else {\n      setState(_extends({}, initialState, {\n        sideEffect: start\n      }));\n    }\n  }, [isAnimating, set, setState, start]);\n  return {\n    animationDuration: animationDuration,\n    isFinished: get().isFinished,\n    progress: get().progress\n  };\n};\n\nvar _excluded = [\"children\"];\nvar NProgress = function NProgress(_ref) {\n  var children = _ref.children,\n    restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var renderProps = useNProgress(restProps);\n  return children(renderProps);\n};\n\nfunction withNProgress(BaseComponent) {\n  var WithNProgress = function WithNProgress(props) {\n    var hookProps = useNProgress(props);\n    return /*#__PURE__*/React.createElement(BaseComponent, _extends({}, props, hookProps));\n  };\n  hoistNonReactStatics(WithNProgress, BaseComponent);\n  return WithNProgress;\n}\n\nexport { NProgress, useNProgress, withNProgress };\n//# sourceMappingURL=react-nprogress.esm.js.map\n","import React from 'react';\nimport { Flex } from 'rebass';\n\nconst Bar: React.FC<{\n  animationDuration: number;\n  progress: number;\n  variant: string;\n}> = ({ animationDuration, progress, variant }) => (\n  <Flex\n    variant={variant}\n    sx={{\n      position: 'relative',\n      width: `${progress * 100}%`,\n      transition: `width ${animationDuration}ms linear`,\n      height: '8px',\n    }}\n  >\n    <Flex\n      variant={variant}\n      sx={{\n        position: 'absolute',\n        width: '100%',\n        height: '2px',\n        top: '3px',\n      }}\n    />\n  </Flex>\n);\n\nexport default Bar;\n","import React from 'react';\nimport { Flex } from 'rebass';\n\nconst Container = ({ children }: React.PropsWithChildren) => (\n  <Flex\n    sx={{\n      position: 'relative',\n      height: '8px',\n      width: '100%',\n    }}\n  >\n    {children}\n  </Flex>\n);\n\nexport default Container;\n","import React from 'react';\nimport { useNProgress } from '@tanem/react-nprogress';\nimport { Options } from '@tanem/react-nprogress/dist/types';\n\nimport Bar from './Bar';\nimport Container from './Container';\n\nexport interface Props extends Options {\n  variant?: 'perf.black' | 'perf.green' | 'perf.orange';\n}\n/**\n * @param animationDuration - Optional Number indicating the animation duration in ms. Defaults to 200.\n * @param incrementDuration - Optional Number indicating the length of time between progress bar increments in ms. Defaults to 800.\n * @param isAnimating - Optional Boolean indicating if the progress bar is animating. Defaults to false.\n * @param minimum - Optional Number between 0 and 1 indicating the minimum value of the progress bar. Defaults to 0.08.\n * @param variant - Optional string indicating the color of progressing bar. Defaults to 'perf.green'\n */\nexport const AnimatedProgress = ({\n  variant = 'perf.green',\n  animationDuration = 200,\n  incrementDuration = 800,\n  isAnimating = false,\n  minimum = 0.08,\n}: Props) => {\n  const { animationDuration: animDuration, progress } = useNProgress({\n    animationDuration,\n    incrementDuration,\n    isAnimating,\n    minimum,\n  });\n\n  return (\n    <Container>\n      <Bar\n        variant={variant}\n        animationDuration={animDuration}\n        progress={progress}\n      />\n      <Bar\n        variant=\"perf.gray\"\n        animationDuration={animDuration}\n        progress={1 - progress}\n      />\n    </Container>\n  );\n};\n"],"names":["clamp","num","lower","upper","createQueue","isRunning","pending","next","cb","clear","enqueue","createTimeout","handle","cancel","schedule","callback","delay","deltaTime","start","frame","time","increment","progress","amount","useEffectOnce","effect","useEffect","incrementParameter","useUpdate","_useState","useState","setState","useCallback","useGetSetState","initialState","update","state","useRef","_extends","get","set","patch","useFirstMountState","isFirst","useUpdateEffect","deps","isFirstMount","noop","useNProgress","_temp","_ref","_ref$animationDuratio","animationDuration","_ref$incrementDuratio","incrementDuration","_ref$isAnimating","isAnimating","_ref$minimum","minimum","_useGetSetState","queue","timeout","cleanup","_timeout$current","_queue$current","n","_queue$current4","_queue$current2","_queue$current3","_timeout$current2","_timeout$current3","trickle","work","_queue$current5","_timeout$current4","savedTrickle","sideEffect","Bar","variant","jsx","Flex","Container","children","AnimatedProgress","animDuration","jsxs"],"mappings":"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","x_google_ignoreList":[0]}
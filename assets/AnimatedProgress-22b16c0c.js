import{j as _,F as k}from"./index.esm-35888c3f.js";import{r as i}from"./index-8db94870.js";import"./theme-c699ef82.js";function j(){return j=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},j.apply(this,arguments)}var R=function(e,r,t){return e=e<=t?e:t,e=e>=r?e:r,e},G=function(){var e=!1,r=[],t=function a(){e=!0;var s=r.shift();if(s)return s(a);e=!1},u=function(){e=!1,r=[]},o=function(s){r.push(s),!e&&r.length===1&&t()};return{clear:u,enqueue:o}},I=function(){var e,r=function(){e&&window.cancelAnimationFrame(e)},t=function(o,a){var s,c,E=function b(h){if(c=c||h,s=h-c,s>a){o();return}e=window.requestAnimationFrame(b)};e=window.requestAnimationFrame(E)};return{cancel:r,schedule:t}},M=function(e){var r=0;return e>=0&&e<.2?r=.1:e>=.2&&e<.5?r=.04:e>=.5&&e<.8?r=.02:e>=.8&&e<.99&&(r=.005),R(e+r,0,.994)},C=function(e){i.useEffect(e,[])},Q=function(e){return++e%1e6},z=function(){var e=i.useState(0),r=e[1];return i.useCallback(function(){return r(Q)},[])},H=function(e){e===void 0&&(e={});var r=z(),t=i.useRef(j({},e)),u=i.useCallback(function(){return t.current},[]),o=i.useCallback(function(a){a&&(Object.assign(t.current,a),r())},[]);return[u,o]},J=function(){var e=i.useRef(!0);return e.current?(e.current=!1,!0):e.current},P=function(e,r){var t=J();i.useEffect(function(){if(!t)return e()},r)},V=function(){},N={isFinished:!0,progress:0,sideEffect:V},K=function(e){var r=e===void 0?{}:e,t=r.animationDuration,u=t===void 0?200:t,o=r.incrementDuration,a=o===void 0?800:o,s=r.isAnimating,c=s===void 0?!1:s,E=r.minimum,b=E===void 0?.08:E,h=H(N),d=h[0],p=h[1],l=i.useRef(null),v=i.useRef(null);C(function(){l.current=G(),v.current=I()});var q=i.useCallback(function(){var f,m;(f=v.current)==null||f.cancel(),(m=l.current)==null||m.clear()},[]),F=i.useCallback(function(f){var m;if(f=R(f,b,1),f===1){var x,D;q(),(x=l.current)==null||x.enqueue(function(g){p({progress:f,sideEffect:function(){var y;return(y=v.current)==null?void 0:y.schedule(g,u)}})}),(D=l.current)==null||D.enqueue(function(){p({isFinished:!0,sideEffect:q})});return}(m=l.current)==null||m.enqueue(function(g){p({isFinished:!1,progress:f,sideEffect:function(){var y;return(y=v.current)==null?void 0:y.schedule(g,u)}})})},[u,q,b,l,p,v]),S=i.useCallback(function(){F(M(d().progress))},[d,F]),$=i.useCallback(function(){var f=function m(){var x;S(),(x=l.current)==null||x.enqueue(function(D){var g;(g=v.current)==null||g.schedule(function(){m(),D()},a)})};f()},[a,l,v,S]),T=i.useRef(V),U=d().sideEffect;return i.useEffect(function(){T.current=S}),C(function(){return c&&$(),q}),P(function(){d().sideEffect()},[d,U]),P(function(){c?p(j({},N,{sideEffect:$})):F(1)},[c,F,p,$]),{animationDuration:u,isFinished:d().isFinished,progress:d().progress}};const w=({animationDuration:n,progress:e,variant:r})=>_.jsx(k,{variant:r,sx:{position:"relative",width:`${e*100}%`,transition:`width ${n}ms linear`,height:"8px"},children:_.jsx(k,{variant:r,sx:{position:"absolute",width:"100%",height:"2px",top:"3px"}})});try{w.displayName="Bar",w.__docgenInfo={description:"",displayName:"Bar",props:{animationDuration:{defaultValue:null,description:"",name:"animationDuration",required:!0,type:{name:"number"}},progress:{defaultValue:null,description:"",name:"progress",required:!0,type:{name:"number"}},variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"string"}}}}}catch{}const A=({children:n})=>_.jsx(k,{sx:{position:"relative",height:"8px",width:"100%"},children:n});try{A.displayName="Container",A.__docgenInfo={description:"",displayName:"Container",props:{}}}catch{}const O=({variant:n="perf.green",animationDuration:e=200,incrementDuration:r=800,isAnimating:t=!1,minimum:u=.08,customProgress:o})=>{const{animationDuration:a,progress:s}=K({animationDuration:e,incrementDuration:r,isAnimating:t,minimum:u}),c=o??s;return _.jsxs(A,{children:[_.jsx(w,{variant:n,animationDuration:a,progress:c}),_.jsx(w,{variant:"perf.gray",animationDuration:a,progress:1-c})]})};try{O.displayName="AnimatedProgress",O.__docgenInfo={description:"",displayName:"AnimatedProgress",props:{variant:{defaultValue:{value:"perf.green"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"perf.black"'},{value:'"perf.green"'},{value:'"perf.orange"'}]}},customProgress:{defaultValue:null,description:"",name:"customProgress",required:!1,type:{name:"number"}}}}}catch{}export{O as A};
//# sourceMappingURL=AnimatedProgress-22b16c0c.js.map
